<?php class ParsePHP{function __construct($a){$b=new ReflectionClass($a);$c=$this->obfuscate($b);$this->tokens=token_get_all("<?php class $a\n{\n$c\n}\n");for($d=100;$d<500;$d++){if(($e=@token_name($d))=='UNKNOWN')continue;$this->parser_tokens[$d]=$e;}}function obfuscate(ReflectionClass$a){$b=array();foreach($a->getMethods() as$c){$b[]=$this->getSource($c);}$d='';$e=range('a','z');foreach($b as$f){$g=array_slice(token_get_all("<?php $f"),1);$h=array();foreach($g as$i){if(is_array($i)){if($i[0]===T_VARIABLE&&$i[1]!=='$this'){if(!isset($h[$i[1]])){$j=array_diff($e,$h);$h[$i[1]]=array_shift($j);}$i[1]='$'.$h[$i[1]];}$d.=$i[1];}else{$d.=$i;}}}return$d;}function getSource(ReflectionMethod$a){$b=new ReflectionMethod($a->class,$a->name);$c=new \SplFileObject($b->getFileName());$c->seek(($b->getStartLine()-1));$d='';while($c->key()<$b->getEndLine()){$d.=$c->current();$c->next();}$e=0;$f=strrpos($d,'}');$d=substr($d,$e,($f-$e+1));return$d;}function minimize(){$a=array_flip(array(T_END_HEREDOC,T_PRIVATE,T_PUBLIC,T_PROTECTED,T_WHITESPACE,T_COMMENT,T_DOC_COMMENT,T_BAD_CHARACTER,));$b=array(T_PRINT=>'echo',T_LOGICAL_AND=>'&&',T_LOGICAL_OR=>'||',T_BOOL_CAST=>'(bool)',T_INT_CAST=>'(int)',);$c=array_flip(array(T_AS,));$d=array_flip(array(T_CLASS,T_CLONE,T_CONST,T_FINAL,T_FUNCTION,T_INSTANCEOF,T_NAMESPACE,T_NEW,T_STATIC,T_THROW,T_USE));$e=array_flip(array(T_EXTENDS,T_IMPLEMENTS,T_INTERFACE));$f=$this->tokens;foreach($f as$g=>$h){if(!is_array($h))continue;list($i,$j,$k)=$h;if(isset($b[$i])){$f[$g]=array($i,$b[$i],$k);continue;}if(isset($a[$i])){unset($f[$g]);continue;}if(isset($e[$i])){$f[$g]=array($i,' '.$j.' ',$k);}if(isset($c[$i])){$f[$g]=array($i,' '.$j,$k);}if(isset($d[$i])){$f[$g]=array($i,$j.' ',$k);}if($i==T_RETURN){if(isset($f[$g+2][0])){$l=$f[$g+2];if($l[0]==T_STRING){$f[$g]=array($i,$j.' ',$k);}}}}return$this->tokens=$f;}function __toString(){$a='';foreach($this->tokens as$b=>$c){if(!is_array($c)){$a.=$c;continue;}$a.=$c[1];}return$a;}}