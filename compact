<?php
/**
 * Compact PHP file
 *
 * Usage:
 * $ php ../../compact.php compressed/utf8.php utf8.php
 *
 **/
require(__DIR__ . '/phpcompactor/src/lib/compactor.php');

if ($argc < 3) {
  print "Strip unnecessary data from PHP source files.\n\n\tUsage: php phpcompactor.php DESTINATION.php SOURCE.php\n";
  exit;
}

$source = $argv[2];
$target = $argv[1];
print "Compacting $source into $target.\n";
$compactor = new Compactor($target);

$compactor->compactAll($source);

$compactor->report();
$compactor->close();
